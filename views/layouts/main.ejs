<!-- views/layouts/main.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/globals.css"> <!-- Include your main stylesheet and import Tailwind CSS -->
    <link rel="stylesheet" href="/css/tailwind.css"> <!-- Tailwind CSS Styles -->
    <title>Galaxy PC Parts- Admin Dashboard</title>
    <!-- Filepond CSS -->
    <!-- <link href="https://unpkg.com/filepond/dist/filepond.css" rel="stylesheet" />
    <link href="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css" rel="stylesheet" /> -->
    <!-- Filepond Plugins -->
    <!-- <script defer src="https://unpkg.com/filepond-plugin-file-encode/dist/filepond-plugin-file-encode.js"></script>
    <script defer src="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js"></script>
    <script defer src="https://unpkg.com/filepond-plugin-image-resize/dist/filepond-plugin-image-resize.js"></script> -->
    <!-- Filepond JS -->
    <!-- <script defer src="https://unpkg.com/filepond/dist/filepond.js"></script>
    <script defer src="/public/javascript/fileUpload.js"></script> -->
</head>
<body>
    <div id="container">
        <div class="bg-blue-900 min-h-screen w-screen flex">
            <div id="navMenu">
                <%- include('../partials/_nav') %>
            </div>
            <div class="bg-white flex-grow mt-2 mr-2 mb-2 rounded-lg p-4">
                <%- include('../partials/_errorMessage') %>
                <%- body %>
            </div>
        </div>
    </div>
</body>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const container= document.getElementById('container');

        const viewportWidth =  window.innerWidth || document.documentElement.clientWidth;

        if (viewportWidth < 600) {
            const button = document.createElement('button');

            // Create SVG element
            const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            svg.setAttribute("xmlns", "http://www.w3.org/2000/svg");
            svg.setAttribute("viewBox", "0 0 24 24");
            svg.setAttribute("stroke-width", "1.5");
            svg.setAttribute("stroke", "currentColor");
            svg.setAttribute("class", "w-8 h-8");

            // Create path element
            const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
            path.setAttribute("stroke-linecap", "round");
            path.setAttribute("stroke-linejoin", "round");
            path.setAttribute("d", "M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5");

            // Append path to SVG
            svg.appendChild(path);

            // Append SVG to button
            button.appendChild(svg);

            button.appendChild = svg;
            button.type = 'button';
            button.id = 'toggleNav';
            button.classList.add('p-2');

            container.insertBefore(button, container.firstChild); 

            container.classList.add('bg-blue-900', 'min-h-screen');

            const toggleNav = document.getElementById('toggleNav');
            const navMenu = document.getElementById('navMenu');

            toggleNav.classList.add('text-white');

            navbar.classList.add('fixed');

            toggleNav.addEventListener('click', () => {
                navMenu.classList.toggle('hidden');
                if (navMenu.classList.contains('hidden')) {
                    navbar.classList.remove('-top-0');
                    navbar.classList.add('-left-full');
                    navbar.classList.remove('w-full');
                    navbar.classList.remove('-left-0');
                } else {
                    navbar.classList.add('w-full');
                    navbar.classList.add('-left-0');
                    navbar.classList.add('-top-0');
                    navbar.classList.remove('-left-full');
                }
            });

            // Initially hide the navMenu on load
            navMenu.classList.add('hidden');
        }
    });
</script>
</html>