<!-- views/products/_form_fields.ejs -->

<!-- Product Name form input -->
<div>
  <label for="name">Product Name</label>
  <input type="text" id="name" name="name" placeholder="Product name" value="<%= product.name %>">
</div>

<% if (typeof selectedCategory !== 'undefined') { %>
  <!-- Product Category form input -->
  <div>
    <label for="category">Product Category</label>
    <select name="category" id="category">
      <option value="">Uncategorized</option>
      <% categories.forEach(category => { %>
        <% if (category._id.equals(selectedCategory)) { %>
          <option value="<%= category._id %>" selected><%= category.name %></option>
        <% } else { %>
          <option value="<%= category._id %>"><%= category.name %></option>
        <% } %>
      <% }); %>
    </select>
  </div>
<% } else { %>
  <!-- If selectedCategory is undefined, include the category select dropdown without pre-selecting any option -->
  <div>
    <label for="category">Product Category</label>
    <select name="category" id="category">
      <option value="">Uncategorized</option>
      <% categories.forEach(category => { %>
        <option value="<%= category._id %>"><%= category.name %></option>
      <% }); %>
    </select>
  </div>
<% } %>

<!-- Product Image File form input -->
<!-- <div>
  <label for="photos">Product Photos</label>
  <input type="file" name="photos" id="photos" class="filepond" multiple>
</div> -->

<!-- Product Description form input -->
<div>
  <label for="description">Description</label>
  <textarea id="description" name="description" placeholder="Description" value="<%= product.description %>"><%= product.description %></textarea>
</div>

<!-- Product MSRP form input -->
<div>
  <label for="msrp">MSRP (in USD)</label>
  <input type="number" id="msrp" name="msrp" placeholder="MSRP" value="<%= product.msrp %>">
</div>

<!-- Product Price form input -->
<div>
  <label for="price">Sale Price (in USD)</label>
  <input type="number" id="price" name="price" placeholder="Price" value="<%= product.price %>">
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Get a reference to the file input element
    //const inputElement = document.querySelector('input[type="file"]');

    // Create a FilePond instance
    // const pond = FilePond.create(inputElement, {
    //   imagePreviewHeight: 300, // Set the height of the image preview
    //   imagePreviewWidth: 300,  // Set the width of the image preview

    // });
  });
</script> 